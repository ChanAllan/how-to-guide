<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		 <link href="style.css" rel="stylesheet" type="text/css">
		<title>PDO tutorial - Prepared Statements</title>
	</head>
<body>

<ul class="nav">
<li><a href="index.html">Home</a>
<li><a href="installation.html">Installation</a>
<li><a href="connection.html">Connection</a>
<li><a href="prepared.html">Prepared Statements</a>
<li><a href="fetch.html">Fetch Results</a>
<li><a href="summary.html">Summary</a>
</ul>

<h1 class="title">Queries and Prepared Statements</h1>
<div>
	<p>
		Lets assume you have an employee table created in your database that has an id, first and last name as attributes. This will be a simple tutorial on using PDO to make queries.
	</p>

	<div class="img_resize">
		<a href="images/employee.PNG"><img src="images/employee.PNG" alt="employee"></a>
	</div>
</div>

<div>
	<p>
		Lets make a query to add a new row to the table values of employee. Lets add the employee John Smith who has an ID number 1. <br>
	</p>
</div>

<div>
	<p>
		<mark><em>$dbh->execute("INSERT INTO employee (id, fname, lname) values (1, 'John', 'Smith')");</em></mark>
	</p>
</div>

<div>
	<p>
		The code works in inserting a row into the employee table, but it doesn't fully utilize PDO features. Mentioned earlier were prepared statements and we will start covering the basics here: <strong>prepare, bind and execute.</strong> By using prepared queries, it can be executed multiple times with the same or different parameters.
	</p>
</div>

<div>
	<p>
		There are named parameters or placeholders for the parameters that can be used for INSERT queries for PDO. These are examples of using named or placeholder parameters and there are other ways in doing so. 
	</p>
</div>

<div>	
	
	<p><b>Named parameters</b></p>
	<div class="img_resize">
		<a href="images/named.PNG"><img src="images/named.PNG" alt="named"></a>
	</div>

	<p><b>Placeholder parameters</b></p>
	<div class="img_resize">
		<a href="images/unnamed.PNG"><img src="images/unnamed.PNG" alt="unnamed"></a>
	</div>
	<p>
		***<em>Notice the numeric value in bindParams need to match the sequence of attributes in the prepare statement</em>***
	</p>

</div>

<div>
	<p>
		You can also insert an array of data which provide the same results as above. For example:
	</p>

	<div class="img_resize">
		<a href="images/array.PNG"><img src="images/array.PNG" alt="array"></a>
	</div>
</div>

<div>
	<p>
		You may have noticed the line of code <mark><em>$stmt->execute()</em></mark>. This executes the statement that was prepared and bounded. In the example, it will insert ID number 1 with the name John Smith into the employee table in your database.
	</p>
</div>

<div>
	<p>
		This is a simple tutorial that covers the prepared statements. There are PDO class and PDOStatement class that can be used to perform the same actions as above, however, this is not covered in this tutorial. If you prefer to learn more about the PDO and PDOStatement class, you can refer to <a href="http://www.php.net/manual/en/class.pdo.php">PDO Class</a> and <a href="http://www.php.net/manual/en/class.pdostatement.php">PDOStatement Class</a>.
	</p>
</div>

<footer>
  <p>Posted by: Allan Chan</p>
  <p>Contact information: chanal@onid.oregonstate.edu</p>
</footer> 

</body>
</html>